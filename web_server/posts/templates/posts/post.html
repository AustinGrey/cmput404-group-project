<!-- reference: https://www.w3schools.com/bootstrap/tryit.asp?filename=trybs_temp_blog&stacked=h -->
{% extends "navigation.html" %}
{% block navigation_content %}
{% load static %}
{% load markdown_deux_tags %}


<div class="container-fluid">
     <div class="row">
        <div class="col-sm-2">

        </div>
         <div class="col-sm-8">
             <br>
             <br>

             <div class="form-inline">
                 <div class="d-flex w-100 justify-content-between">
                 	{% if post.contentType == "TYPE_MARKDOWN" %}
                     <h2>{{post.title|markdown}}</h2>
                     {% else %}
                     <h2>{{post.title}}</h2>
                    {% endif %}
                     {% if post.author.id == user.id %}
                     <!-- direct to edit page which is as same as create page-->
                     <div class="btn-group">
                        <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="sr-only">Toggle Dropdown</span>
                        </button>
                        <div class="dropdown-menu">
                          <a class="dropdown-item" href="{% url 'edit_or_delete_post' post.id %}">Edit</a>
                          <a class="dropdown-item" href="{% url 'edit_or_delete_post' post.id %}">Delete</a>
                        </div>
                     </div>

                     {% endif %}
                 </div>


             </div>

            <div class="form-inline">
            	{% if post.contentType == "TYPE_MARKDOWN" %}
                	<h3>{{post.description|markdown}}</h3>
                {% else %}
                	<h3>{{post.description|markdown}}</h3>
                {% endif %}
                
            </div>

             <div class="form-inline">
                 <i class="far fa-clock mr-2"></i>
                 <p class="mt-3 mr-2">Post by</p>
                 <a class="mr-2" href="{% url 'profile' %}">
                      {{post.author}}
                 </a>
                 <small>{{post.published}}</small>

             </div>


             <div>
                 {% for category in post.categories.all %}
                     <span class="badge badge-success">{{category}}</span>
                 {% endfor %}
                 <span class="badge badge-info">{{post.visibility}}</span>
             </div>

             <br>
			 	{% if post.contentType == "TYPE_MARKDOWN" %}
                	<p>{{post.content|markdown}}</p>
                {% else %}
                	<p>{{post.content}}</p>
                {% endif %}
             <div>

             </div>

             <hr>

            <h4>Leave a Comment:</h4>

             <form role="form" method="POST" action="{% url 'get_or_add_comment' post.id %}">
                <div class="form-group">
                    <textarea class="form-control" rows="3" required></textarea>
                </div>
             <button type="submit" class="btn btn-light">Submit</button>
            </form>
            <br><br>
             <p>Comments:</p><br>

             <div class="row">

                 <div class="col-sm-10">
                    <h4>Phoebe <small>time</small></h4>
                     <p>hardcode comment</p>
                    <br>
                </div>

             </div>


         </div>

         <div class="col-sm-2">

        </div>
    </div>






</div>










{% endblock %}